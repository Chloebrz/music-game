<!DOCTYPE html>
<html class ="ui-mobile">
<head>
   <link rel="stylesheet" type="text/css" href="../style/projecteur.css">
   <script src="/socket.io/socket.io.js"></script>
</head>
<body >
   <div data-role="page" data-theme="a" class="type-home">
      <div data-role="main" >

      <div class="ui-grid-b">
         <div class="ui-block-a" id="leftSecond">
            <div class="chanson">
               <h1 id="title">Scores</h1>
            </div>
            <div id="players-score"></div>
      </div>

      </div>
   </div>
   
   <script>  
   
   var socket = io();
	
    /*for (i = 0; i < Object.keys(vars).length/2; i++) { 
       document.getElementById("title").innerHTML=decodeURIComponent(vars.player);
       document.getElementById("artist").innerHTML=decodeURIComponent(vars.score0);
    }*/
    
    socket.on("connect", function () {
      socket.on("displayScore", function (data) {
         renderPlayersScores(data);
      });
    });
    
   function renderPlayersScores (data) {
      console.log(data);

		var players = data.reduce(function (res, player) {
			return res + "<li class='ui-li-player'>" + player.pseudo + "<span class='ui-li-count'>" + player.score + "</span></li>";
		}, "");
		document.getElementById("players-score").innerHTML=players;
	}

   </script>  
</body>